// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")

}

model User {
  id       BigInt   @id @default(autoincrement())
  email    String   @unique
  password String
  palmais  Palmal[]
}

model Palmal {
  id           BigInt  @id @default(autoincrement())
  variedade    String
  area         Int
  tradicional  Boolean
  dataCadastro String
  lastUpdate   String

  User   User   @relation(fields: [userId], references: [id])
  userId BigInt

  reboleiras Reboleira[]

}

model Reboleira {
  id               BigInt   @id @default(autoincrement())
  iteracao         String   @db.Char
  dataCadastro     DateTime @db.Date
  proximaAvaliacao String?
  deleted          String?
  avaliado         Boolean
  lastUpdate       String

  Palmal   Palmal @relation(fields: [palmalId], references: [id])
  palmalId BigInt

  estacaoes Estacao[]

}

model Estacao {
  id                BigInt  @id @default(autoincrement())
  status            String
  dataCadastro      String
  proximaAvaliacao  String
  deleted           String?
  isObservationOpen Boolean
  lastUpdate        String


  Reboleira   Reboleira @relation(fields: [reboleiraId], references: [id])
  reboleiraId BigInt

  raquetes Raquete[]
}

model Raquete {
  id                      BigInt  @id @default(autoincrement())
  posicao                 String
  dataDacastro            String
  aparencia               String
  agenteControleBiologico Boolean
  agenteControleQuimico   Boolean
  avaliado                Boolean
  corte                   String?
  dataObservacao          String?
  exported                Boolean
  nextVersion             BigInt

  Estacao   Estacao @relation(fields: [estacaoId], references: [id])
  estacaoId BigInt
}
